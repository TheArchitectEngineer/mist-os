# Generate reference documentation locally

Most reference documentation for fuchsia.dev is generated through an infra
recipe that calls the [`docsgen`] tool.

The `docsgen` tool calls various other tools that generate reference
documentation, such as:

- [bazel-docgen](/tools/bazel-docgen)
- [Clidoc](/tools/clidoc)
- CMLdoc which is generated by [cmc](/tools/cmc)
- [Driversdoc](/build/drivers/create_all_drivers_doc.gni)
- [FIDLdoc](/tools/fidl/fidldoc/)
- [fx helpdoc](/tools/devshell/helpdoc)
- [Build action for Zircon syscalls][build-action-syscalls]

Once the infra recipe generates this documentation, it is pushed to the
[`reference-docs` repository][ref-docs-repo].

Then, the documentation is published to the reference section of fuchsia.dev,
which is [fuchsia.dev/reference/](https://fuchsia.dev/reference/).

There is also manually created reference documentation that is usually published
to a URL that is prefixed with `fuchsia.dev/fuchsia-src/reference/`. The source
for this documentation is in [`//docs/reference/`][cs-fuchsia-docs-ref].

## Generate reference documentation locally

In some cases, it can be useful to run `docsgen` locally to review the output of
the various tools that generate documentation.

To run `docsgen` locally:

1. Add `docsgen` to `fx set`. For example, you can use the `minimal`
   configuration:

   ```posix-terminal
   fx set minimal.x64 --with //tools/docsgen
   ```

1. Build and run `docsgen`:

   Note: Running `docsgen` also implicitly runs `doc-checker`. For more
   information about `doc-checker`, see
   [Automated documentation checks](/docs/contribute/docs/doc-checker.md)

   ```posix-terminal
   fx build tools/docsgen
   ```

   Note: Some of the reference documentation is packaged in a `.zip` file, so
   make sure to extract the documentation.

   You can then review the built reference documentation in
   `//out/default/obj/docsgen` of your Fuchsia checkout.

[`docsgen`]: /tools/docsgen
[ref-docs-repo]: https://fuchsia.googlesource.com/reference-docs/+/main/main/
[build-action-syscalls]: https://cs.opensource.google/fuchsia/fuchsia/+/main:zircon/vdso/BUILD.gn;l=166-188
[cs-fuchsia-docs-ref]: https://cs.opensource.google/fuchsia/fuchsia/+/main:docs/reference/