# Copyright 2025 The Fuchsia Authors. All rights reserved.
# Use of this source code is governed by a BSD-style license that can be
# found in the LICENSE file.

# This binary is only intended to be built with the aarch32 toolchain.
assert(current_toolchain == "//build/toolchain:linux_arm-shared")

# Use this target to regenerate libunwind_info_test_data.so.
shared_library("unwind_info_test_data") {
  sources = [
    "arm_ehabi_unwind_table.cc",
    "arm_ehabi_unwind_table.h",
  ]

  # Make sure we get the .ARM.exidx and .ARM.extab segments.
  cflags = [
    "-g",
    "-fasynchronous-unwind-tables",
  ]
}
