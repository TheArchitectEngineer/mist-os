# Copyright 2019 The Fuchsia Authors. All rights reserved.
# Use of this source code is governed by a BSD-style license that can be
# found in the LICENSE file.

if (is_fuchsia) {
  group("hermetic_tests") {
    testonly = true
    public_deps = [
      "far:hermetic_tests",
      "pkg-cache:hermetic_tests",
      "pkg-cache-as-base-resolver:hermetic_tests",
      "pkg-resolver:hermetic_tests",
      "pkgdir:hermetic_tests",
      "system-update-checker:hermetic_tests",
      "system-update-committer:hermetic_tests",
      "system-updater:hermetic_tests",
      "update:hermetic_tests",
    ]

    if (current_cpu == "riscv64") {
      public_deps -= [
        # TODO(https://fxbug.dev/301437556): Remove after fixing tests on RISC-V.
        "pkg-resolver:hermetic_tests",
      ]
    }
  }

  group("non_hermetic_tests") {
    testonly = true
    public_deps = [
      "isolated-ota:non_hermetic_tests",
      "omaha-client:non_hermetic_tests",
      "pkg-cache-as-base-resolver:non_hermetic_tests",
      "pkgctl:non_hermetic_tests",
    ]
  }
}

group("e2e_tests") {
  testonly = true
  public_deps = [ "system-tests:e2e_tests" ]
}

group("all_tests") {
  testonly = true
  public_deps = [
    ":hermetic_tests($target_toolchain)",
    ":non_hermetic_tests($target_toolchain)",
  ]
}
